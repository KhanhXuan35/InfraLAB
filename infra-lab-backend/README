DÆ°á»›i Ä‘Ã¢y lÃ  file **README.md** Ä‘Ã£ Ä‘Æ°á»£c chuáº©n hÃ³a láº¡i toÃ n bá»™.
NÃ³ cáº­p nháº­t chÃ­nh xÃ¡c tÃªn cÃ¡c Collection (sá»‘ nhiá»u theo chuáº©n MongoDB), cÃ¡c trÆ°á»ng dá»¯ liá»‡u má»›i thÃªm (username, gender, category_id...) vÃ  logic liÃªn káº¿t mÃ  chÃºng ta Ä‘Ã£ chá»‘t.

Báº¡n cÃ³ thá»ƒ copy ná»™i dung nÃ y vÃ o file `README.md` cá»§a dá»± Ã¡n.

---

# ğŸ“˜ TÃ i liá»‡u hÆ°á»›ng dáº«n: Há»‡ thá»‘ng Quáº£n lÃ½ Kho & PhÃ²ng Lab

TÃ i liá»‡u nÃ y mÃ´ táº£ chi tiáº¿t nghiá»‡p vá»¥, cáº¥u trÃºc CÆ¡ sá»Ÿ dá»¯ liá»‡u (Database) vÃ  luá»“ng váº­n hÃ nh cá»§a há»‡ thá»‘ng quáº£n lÃ½ thiáº¿t bá»‹ trÆ°á»ng há»c.

---

## 1. Tá»•ng quan dá»± Ã¡n

Há»‡ thá»‘ng quáº£n lÃ½ vÃ²ng Ä‘á»i cá»§a thiáº¿t bá»‹ tá»« khi nháº­p kho Ä‘áº¿n khi sinh viÃªn mÆ°á»£n sá»­ dá»¥ng táº¡i phÃ²ng Lab.

* **Pháº¡m vi:** 1 Kho tá»•ng (Warehouse) vÃ  1 PhÃ²ng thá»±c hÃ nh (Lab).
* **Äá»‘i tÆ°á»£ng sá»­ dá»¥ng:**
    1.  **Student (Sinh viÃªn):** MÆ°á»£n/tráº£ thiáº¿t bá»‹ táº¡i Lab.
    2.  **Lab Manager (Quáº£n lÃ½):** Quáº£n lÃ½ kho, duyá»‡t Ä‘Æ¡n mÆ°á»£n, bÃ¡o cÃ¡o sá»­a chá»¯a.
    3.  **School Admin (BGH):** Quáº£n trá»‹ viÃªn cáº¥p cao, duyá»‡t yÃªu cáº§u nháº­p thiáº¿t bá»‹ tá»« giáº£ng viÃªn.

---

## 2. Cáº¥u trÃºc Database (MongoDB)

Há»‡ thá»‘ng sá»­ dá»¥ng **10 Collections**. CÃ¡c quan há»‡ Ä‘Æ°á»£c thiáº¿t láº­p má»m thÃ´ng qua `ObjectId` (References).

### 2.1. `users` (NgÆ°á»i dÃ¹ng)
LÆ°u trá»¯ thÃ´ng tin 3 loáº¡i tÃ i khoáº£n: Student, Lab Manager, School Admin.
* **_id**: ObjectId
* **username**: String (Unique, dÃ¹ng Ä‘á»ƒ Ä‘Äƒng nháº­p)
* **password**: String (ÄÃ£ mÃ£ hÃ³a bcrypt)
* **email**: String (Unique)
* **name**: String
* **role**: Enum ["student", "lab_manager", "school_admin"]
* **gender**: Enum ["Male", "Female", "Other"]
* **date_of_birth**: Date
* **address**: String
* **phone**: String
* **avatar**: String (URL áº£nh)
* **isActive**: Boolean (Tráº¡ng thÃ¡i hoáº¡t Ä‘á»™ng)
* **student_code**: String (Chá»‰ dÃ nh cho sinh viÃªn)

### 2.2. `categories` (Danh má»¥c)
PhÃ¢n loáº¡i thiáº¿t bá»‹ Ä‘á»ƒ dá»… quáº£n lÃ½ vÃ  lá»c (VÃ­ dá»¥: Laptop, Linh kiá»‡n, MÃ¡y Ä‘o...).
* **name**: String
* **description**: String

### 2.3. `devices` (Thiáº¿t bá»‹)
ThÃ´ng tin chi tiáº¿t vá» loáº¡i thiáº¿t bá»‹ (Model).
* **name**: String
* **category_id**: Ref -> `categories`
* **description**: String
* **image**: String (URL áº£nh)

### 2.4. `inventories` (Kho hÃ ng)
Quáº£n lÃ½ sá»‘ lÆ°á»£ng thiáº¿t bá»‹ táº¡i tá»«ng Ä‘á»‹a Ä‘iá»ƒm cá»¥ thá»ƒ.
* **device_id**: Ref -> `devices`
* **location**: Enum ["warehouse", "lab"]
* **total**: Number (Tá»•ng sá»‘ lÆ°á»£ng sá»Ÿ há»¯u)
* **available**: Number (Sá»‘ lÆ°á»£ng cÃ³ thá»ƒ cho mÆ°á»£n)
* **broken**: Number (Sá»‘ lÆ°á»£ng Ä‘ang há»ng/máº¥t)

### 2.5. `requestswarehouses` (YÃªu cáº§u nháº­p kho)
ÄÆ¡n do Lab Manager táº¡o Ä‘á»ƒ xin rÃºt thiáº¿t bá»‹ tá»« Kho tá»•ng vá» PhÃ²ng Lab.
* **lecturer_id**: Ref -> `users` (Lab Manager)
* **items**: Array `[{ device_id: Ref, quantity: Number }]`
* **status**: Enum ["pending", "approved", "rejected"]
* **processed_at**: Date (NgÃ y duyá»‡t)

### 2.6. `borrowlabs` (MÆ°á»£n phÃ²ng Lab)
Phiáº¿u mÆ°á»£n thiáº¿t bá»‹ cá»§a Sinh viÃªn.
* **student_id**: Ref -> `users`
* **items**: Array `[{ device_id: Ref, quantity: Number }]`
* **return_due_date**: Date (Háº¡n tráº£)
* **status**: String (Default: "approved")
* **returned**: Boolean (ÄÃ£ tráº£ háº¿t chÆ°a?)

### 2.7. `returnlabs` (Tráº£ phÃ²ng Lab)
Phiáº¿u ghi nháº­n sinh viÃªn tráº£ Ä‘á»“ (cÃ³ kiá»ƒm tra há»ng hÃ³c).
* **borrow_id**: Ref -> `borrowlabs`
* **student_id**: Ref -> `users`
* **items**: Array `[{ device_id: Ref, quantity: Number, broken: Number }]`
    * *LÆ°u Ã½: TrÆ°á»ng `broken` dÃ¹ng Ä‘á»ƒ bÃ¡o sá»‘ lÆ°á»£ng há»ng khi tráº£.*
* **status**: Enum ["pending_check", "done"]

### 2.8. `repairs` (Sá»­a chá»¯a)
Theo dÃµi thiáº¿t bá»‹ há»ng Ä‘ang Ä‘Æ°á»£c mang Ä‘i sá»­a.
* **device_id**: Ref -> `devices`
* **quantity**: Number
* **status**: Enum ["pending", "done"]
* **completed_at**: Date

### 2.9. `notifications` (ThÃ´ng bÃ¡o)
* **user_id**: Ref -> `users`
* **message**: String
* **type**: String (VD: "alert", "info")
* **read**: Boolean

### 2.10. `activitylogs` (Lá»‹ch sá»­)
* **action**: String (VD: "BORROW_CREATE", "RETURN_CHECK")
* **user_id**: Ref -> `users` (NgÆ°á»i thá»±c hiá»‡n)
* **related_id**: String (ID cá»§a phiáº¿u mÆ°á»£n/tráº£ liÃªn quan)

---

## 3. Luá»“ng nghiá»‡p vá»¥ (Workflows)

### Luá»“ng 1: Äiá»u chuyá»ƒn thiáº¿t bá»‹ (Kho tá»•ng -> Lab)
1.  **Lab Manager** táº¡o `requestswarehouses`.
2.  **School Admin** duyá»‡t Ä‘Æ¡n.
3.  **Há»‡ thá»‘ng tá»± Ä‘á»™ng:**
    * Trá»« `available` trong `inventories` (Warehouse).
    * Cá»™ng `available` trong `inventories` (Lab).

### Luá»“ng 2: Sinh viÃªn mÆ°á»£n Ä‘á»“ (Táº¡i Lab)
1.  **Student** xem danh sÃ¡ch thiáº¿t bá»‹ (lá»c theo `categories`).
2.  **Student** táº¡o `borrowlabs`.
3.  **Há»‡ thá»‘ng:**
    * Tá»± Ä‘á»™ng duyá»‡t (status: approved).
    * Trá»« `available` trong `inventories` (Lab).

### Luá»“ng 3: Sinh viÃªn tráº£ Ä‘á»“
1.  **Student** mang thiáº¿t bá»‹ Ä‘áº¿n tráº£.
2.  **Lab Manager** kiá»ƒm tra vÃ  táº¡o `returnlabs`.
    * Náº¿u nguyÃªn váº¹n: `broken = 0`.
    * Náº¿u há»ng: Nháº­p sá»‘ lÆ°á»£ng vÃ o `broken`.
3.  **Há»‡ thá»‘ng:**
    * Cá»™ng láº¡i sá»‘ lÆ°á»£ng tá»‘t vÃ o `available` (Lab).
    * Cá»™ng sá»‘ lÆ°á»£ng há»ng vÃ o `broken` (Lab).
    * ÄÃ¡nh dáº¥u `borrowlabs` lÃ  `returned: true`.

### Luá»“ng 4: Xá»­ lÃ½ sá»± cá»‘ (Sá»­a chá»¯a)
1.  **Lab Manager** táº¡o phiáº¿u `repairs` cho cÃ¡c thiáº¿t bá»‹ há»ng.
2.  Khi sá»­a xong, cáº­p nháº­t tráº¡ng thÃ¡i `done`.
3.  **Há»‡ thá»‘ng:**
    * Trá»« `broken` trong `inventories`.
    * Cá»™ng láº¡i `available` (Ä‘Ã£ sá»­a xong).

---

## 4. HÆ°á»›ng dáº«n Dá»¯ liá»‡u máº«u (Seed Data)

Dá»± Ã¡n Ä‘i kÃ¨m bá»™ file JSON chuáº©n Ä‘á»ƒ import vÃ o MongoDB:

1.  **`users.json`**: Chá»©a 1 Admin, 1 Lab Manager, 1 Student (Ä‘áº§y Ä‘á»§ username, password hash: `123456`).
2.  **`categories.json`**: Danh má»¥c Laptop, Linh kiá»‡n.
3.  **`devices.json`**: Dell XPS, Arduino Uno (Ä‘Ã£ map category_id).
4.  **`inventories.json`**: Sá»‘ lÆ°á»£ng tá»“n kho (Ä‘Ã£ map device_id).
5.  **`borrowlabs.json`**: ÄÆ¡n mÆ°á»£n máº«u (Ä‘Ã£ map student_id, device_id).

**LÆ°u Ã½:** Import theo Ä‘Ãºng thá»© tá»± trÃªn Ä‘á»ƒ Ä‘áº£m báº£o cÃ¡c liÃªn káº¿t ID hoáº¡t Ä‘á»™ng chÃ­nh xÃ¡c.

---

## 5. Má»Ÿ rá»™ng (Future Work)
* ThÃªm chá»©c nÄƒng quÃ©t QR Code trÃªn thiáº¿t bá»‹ Ä‘á»ƒ tráº£ nhanh.
* ThÃªm báº£ng `locations` náº¿u má»Ÿ rá»™ng nhiá»u phÃ²ng Lab khÃ¡c nhau.
* TÃ­ch há»£p gá»­i Email thÃ´ng bÃ¡o nháº¯c lá»‹ch tráº£.


## 6. ThÃ´ng tin vá» database 
users (NgÆ°á»i dÃ¹ng: Sinh viÃªn, Quáº£n lÃ½, BGH)

categories (Danh má»¥c thiáº¿t bá»‹)

devices (Thiáº¿t bá»‹)

inventories (Kho hÃ ng)

borrowlabs (Phiáº¿u mÆ°á»£n phÃ²ng Lab)

returnlabs (Phiáº¿u tráº£ phÃ²ng Lab - Táº¡o rá»—ng, chÆ°a cáº§n data)

requestswarehouses (Phiáº¿u yÃªu cáº§u nháº­p kho - Táº¡o rá»—ng)

activitylogs (Lá»‹ch sá»­ hoáº¡t Ä‘á»™ng - Táº¡o rá»—ng)

notifications (ThÃ´ng bÃ¡o - Táº¡o rá»—ng)

repairs (Sá»­a chá»¯a - Táº¡o rá»—ng)